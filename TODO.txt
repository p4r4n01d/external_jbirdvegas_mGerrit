mGerrit TODO List

Outstanding
===========
- Reset project if current project not listed in current Gerrit
- Non-blocking JSON fetching operations
	- Could include fetching JSON details in navigation bar (with ability to cancel using expandable notifications)
- Smarter refresh - ideal: deprecate manual refresh and refresh automatically
	- Compare change updated timestamps and change ids to determine when the rest of the data is old and does not need to be changed
	- Only load the new stuff and don't reset all the cards views if not necesscary.
- Do not default to one specific gerrit - open up the list of Gerrits to choose from. This applies only when there is no app data (e.g. mgerrit has just been installed)
	- Could detect the current ROM and select that one by default
- More feedback on which Gerrit is selected
	- Change gerrit selector icon to match the current Gerrit
		- If custom Gerrit either:
			a) Use generic icon (even the application icon will do)
			b) Let user upload a custom identifying icon
- Migrate Help dialog information into long-press hints. Could show hint when long pressing on a tab or on the card stripe. This needs more thought...
- Add hook (intent filter?) that allows mgerrit to open from a Gerrit url
    - Change preferences (either temporarily or permently) to the gerrit from the URL
    - When given a change link open that specific change
    - When given a Gerrit link just change the current Gerrit
- Ability to track projects across different Gerrits
    - Example, I could be following CM's Gerrit and view mGerrit changes on AOKP's Gerrit
    - May want to put this in a new slide-out menu
        - List all tracked projects under the the one heading (that is collapsable)
- Seperate debug/release versioning (not sure if gradle fully supports this)
- Layout optimisations using Android Hierarchy Viewer (debug version)
- Check in DefaultGerritReceivers whether the broadcast response matches the query
	- When initializing the DefaultGerritReceivers specify the query being performed (GerritURL)
	- Check query before incrementing/decrementing the number of running queries
- Check BroadcastReceivers across activities
	- E.g. If a broadcast response is broadcast delivered while the ProjectsList activity is open for a change query, the broadcast should be
		(re-)delivered to the activity that was listening to broadcasts matching the actual query
- Change detail viewpager
	- Viewpager to swipe through changes in the change detail screen (phone layout only)


Searching (Requires database), action bar
-----------------------------------------
	- General searching:
		- mimic Gerrit web interface queries
		- Support searching for a specific commit heading (default). e.g. searching for "commit:[translation]" will show a heading for Commits and list all the commits with "[translation]" in the title.
		- Where it is ambigious (e.g. search results from commits and committers) show results under section headings. These section headings should be collapsable.
	- Right navigation filter draw
		- Modular: users choose a supported filter type from a spinner and a layout is inflated corresponding to that filter type from where they can fill out the filter parameters.
			- Main layouts will be either a text field or a spinner
		- Filter options modify search query (present in either action bar (search) or filter draw)
		- Idea: Users can do filtering and bypass the filter draw entirely. The filter draw provides assistance on how to formulate queries that the web interface uses.
		- We are going to support new filter types (keywords) and/or new parameters for them (e.g. date range filtering for the age keyword)


Change List
-----------
	- Restore projects and owner cards
		- Investigate card swiping
	- Infinate list - load more changes when scrolled to the bottom of the list


Tablet (master-detail layout)
-----------------------------
    - Selection indicator for the currently selected change.
        - Visual aid to show that the details pane expands the selected change (arrow perhaps?)


Future Direction
----------------
- Authentication/Authorisation
	- Not sure if Gerrit API(s) supports this
	- Show system prompt such as "mgerrit is requesting access to...", such as when an Oauth2 token is requested (something similar to what happens when you use the Google Play Services APIs anyway).
	- This will make way for mGerrit to become a full-blown Gerrit client/portal.


More on Auth (privileged actions)
---------------------------------
    - Would be OK if we only supported G+ (Google) signin initially
    - Ideal: User gets email opens in mGerrit, can login (if not already) - can we use the gmail address here? View messages for change (& diff) and post a change review (along with verification if allowed)
        - Will probably need to wait for gerrit updates (to server(s)) for this though
    - Ability to post inline code comments
        - Prompts about leaving draft comments - not clear that the comments are published with the next review.
    - Sign-up is probably not best handled by a mobile application - requires SSH keys to be generated to fully sign up.
    - Gerrit account preference modifications
        - Track projects (sign up to emails)
            - Could even track these in mGerrit with updates view/tab


Errors
------
Timeout connecting to server
01-02 13:59:27.552  16414-16414/com.jbirdvegas.mgerrit E/GravatarHelper: http Volley request failed!
    com.android.volley.TimeoutError
            at com.android.volley.toolbox.BasicNetwork.performRequest(BasicNetwork.java:114)
            at com.android.volley.NetworkDispatcher.run(NetworkDispatcher.java:105)
01-02 14:00:37.930  16414-16566/com.jbirdvegas.mgerrit E/GerritTask: Gathering data threw IO
    java.net.ConnectException: failed to connect to gerrit.aokp.co/91.194.90.122 (port 80): connect failed: ETIMEDOUT (Connection timed out)
            at libcore.io.IoBridge.connect(IoBridge.java:114)
            ...
            at com.jbirdvegas.mgerrit.tasks.GerritTask.doInBackground(GerritTask.java:84)
            at com.jbirdvegas.mgerrit.tasks.GerritTask.doInBackground(GerritTask.java:43)
            ...
     Caused by: libcore.io.ErrnoException: connect failed: ETIMEDOUT (Connection timed out)
            at libcore.io.Posix.connect(Native Method)
            ...
            at com.jbirdvegas.mgerrit.tasks.GerritTask.doInBackground(GerritTask.java:84)
            at com.jbirdvegas.mgerrit.tasks.GerritTask.doInBackground(GerritTask.java:43)
            at android.os.AsyncTask$2.call(AsyncTask.java:288)
            ...

Optional/Lower priority
-----------------------
	- Colour each project in a sperate colour
	- Add tab for reviewed (verified)
	    - May be useful for admins or others wishing to cherry pick changes that compile
	    - Either revied in past PS or reviewed in current patch set - up to server classification
	- Increase minimum API 14 (ICS) - No one is using mGerrit on a pre-Android 4.0 device.
		- We could even set it to API 15 (minSdkVersion=14) as there is only 1 person using mGerrit on API 14 (as of 5 Nov 2013)
